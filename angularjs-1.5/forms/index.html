<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Angularjs - Forms</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />

        <link rel="stylesheet" href="../../css/bootstrap.min.css" />
    </head>
    <body>
        <section class="main-content my-3"
            ng-controller="mainController as $ctrl"
            ng-cloak>
            <div class="container"
                <h1 class="text-center">Form Validation</h1>
                <hr />
                <form name="myForm" novalidate ng-submit="$ctrl.save(myForm)">
                    <!-- Input text -->
                    <div class="form-group row" ng-class="{'has-danger':myForm.name.$invalid}">
                        <label class="col-md-2 col-form-label" for="name">Name</label>
                        <div class="col-md-8">
                            <input class="form-control"
                                id="name"
                                type="text"
                                name="name"
                                placeholder="Write your name"
                                ng-class="{'form-control-danger':myForm.name.$invalid}"
                                ng-model="$ctrl.user.name"
                                ng-required="true"
                                ng-minlength="8"
                                ng-maxlength="20"
                                ng-pattern="/^[^()\/\\\[\]@#$%&?¡!¿{}<>]+$/" />
                            <div class="form-control-feedback" ng-if="myForm.name.$error.required">
                                This field is required
                            </div>
                            <div class="form-control-feedback" ng-if="myForm.name.$error.minlength">
                                Name should have at least 8 characters
                            </div>
                            <div class="form-control-feedback" ng-if="myForm.name.$error.maxlength">
                                Name should have maximum 20 characters
                            </div>
                            <div class="form-control-feedback" ng-if="myForm.name.$error.pattern">
                                The name written is invalid
                            </div>
                        </div>
                    </div>

                    <!-- Password -->
                    <div class="form-group row" ng-class="{'has-danger':myForm.password.$invalid}">
                        <label class="col-md-2 col-form-label" for="password">Password</label>
                        <div class="col-md-8">
                            <input class="form-control"
                                id="password"
                                type="password"
                                name="password"
                                placeholder="Write your password"
                                ng-class="{'form-control-danger':myForm.password.$invalid}"
                                ng-model="$ctrl.user.password"
                                ng-required="true" />
                            <div class="form-control-feedback" ng-if="myForm.password.$error.required">
                                This field is required
                            </div>
                        </div>
                    </div>

                    <!-- Confirm -->
                    <div class="form-group row" ng-class="{'has-danger':myForm.confirm.$invalid}">
                        <label class="col-md-2 col-form-label" for="confirm">Confirm</label>
                        <div class="col-md-8">
                            <input class="form-control"
                                id="confirm"
                                type="password"
                                name="confirm"
                                placeholder="Confirm your password"
                                ng-class="{'form-control-danger':myForm.confirm.$invalid}"
                                ng-model="$ctrl.user.confirm"
                                ng-required="true"
                                ng-password="$ctrl.user.password" />
                            <div class="form-control-feedback" ng-if="myForm.confirm.$error.required">
                                This field is required
                            </div>
                            <div class="form-control-feedback" ng-if="myForm.confirm.$error.password">
                                The confirm is different than password
                            </div>
                        </div>
                    </div>

                    <!-- Input radio -->
                    <div class="form-group row">
                        <label class="col-md-2 col-form-label">Gender</label>
                        <div class="col-md-8">
                            <div class="form-check" ng-repeat="item in $ctrl.gender">
                                <label class="custom-control custom-radio">
                                    <input class="custom-control-input"
                                        type="radio"
                                        name="gender"
                                        ng-model="$ctrl.user.gender",
                                        ng-required="true"
                                        ng-value="item" />
                                    <span class="custom-control-indicator"></span>
                                    <span class="custom-control-description">{{item.value}}</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Input checkbox -->
                    <div class="form-group row">
                        <label class="col-md-2 col-form-label" for="accept">A.C.</label>
                        <div class="col-md-8">
                            <div class="form-check">
                                <label class="custom-control custom-checkbox">
                                    <input class="custom-control-input"
                                        id="accept"
                                        type="checkbox"
                                        name="acceptC"
                                        ng-model="$ctrl.user.acceptC"
                                        ng-true-value="true"
                                        ng-false-value="false" />
                                    <span class="custom-control-indicator"></span>
                                    <span class="custom-control-description">Accept all conditions</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-md-8 offset-md-2">
                            <button class="btn btn-outline-primary"
                                type="submit"
                                ng-disabled="myForm.$invalid">
                                Save
                            </button>
                        </div>
                    </div>
                </form>
                {{myForm.$valid}}
                <br />
                <br />
                <pre>{{$ctrl.user | json}}</pre>

                <!--
                Input class meaning
                - ng-pristine: Indicating the input has not used yet
                - ng-dirty: Indicating the input data is modified
                - ng-empty: Indicating the input value is empty
                - ng-not-empty: Indicating the input value is not empty
                - ng-untouched: Indicating the input is never focused
                - ng-touched: Indicating the input is focused at lease once
                - ng-invalid: Indicating the input data is invalid
                - ng-valid: Indicating the input data is valid
                -->
            </div>
        </section>

        <script src="../../lib/jquery-3.2.0.min.js"></script>
        <script src="../../lib/tether.min.js"></script>
        <script src="../../lib/bootstrap.min.js"></script>
        <script src="../../lib/angular-1.5.min.js"></script>
        <script src="js/app.module.js"></script>
        <script src="js/directives/password.directive.js"></script>
        <script src="js/controllers/app.controller.js"></script>
    </body>
</html>
